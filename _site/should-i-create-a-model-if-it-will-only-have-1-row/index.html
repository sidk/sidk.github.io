<p>A post on Reddit says:</p>

<blockquote>
  <p>I’m not sure how best to do this. I would just set up a model, but that seems wrong to have a model with just 1 row in it (it’s a single charity). Is there a better way to do this? STI? something else?</p>
</blockquote>

<p>It can seem like overkill to create a database table and a corresponding ActiveRecord model if you know for a fact that your table will only have one row. This is a pretty common situation, and there are a couple of ways to deal with this.</p>

<p>Note: <a href="http://www.patmaddox.com/">Pat Maddox’s</a> <a href="https://www.reddit.com/r/rails/comments/3jxo4d/help_should_i_create_a_model_if_it_will_only_have/">amazing comment on Reddit</a>, which addresses this question, was the primary inspiration for this post.</p>

<p>First, if <strong>non-developers</strong> need the ability to update information that this “model” would contain, then yes, you should create an ActiveRecord model. This will of course give you all the benefits of ActiveRecord as well, like being able to use <code class="highlighter-rouge">has_many</code>, <code class="highlighter-rouge">belongs_to</code> and everything else.</p>

<p>If <strong>only developers</strong> are going to be concerned with and using this model, <strong>you don’t have to tie it to the database and can implement it as a “Plain Old Ruby Object” aka a “PORO”</strong>.</p>

<p>The advantage with PORO’s is that they are cheap to instantiate because you won’t be making a call to the database when you do so. Setting up association-like behavior can be as simple as defining either instance or class methods on the PORO. As Pat advises in his comments however, you should always ask yourself what benefit you’d get from implementing association-like behavior in your PORO to ensure that you’re doing it for the right reasons, and to keep your code easy to understand.</p>

<p>So, going with the example in the Reddit post above, where we have a <code class="highlighter-rouge">Charity</code> model (this is the model that will only have one “row” and the one we will be writing a PORO for) which needs to define a <code class="highlighter-rouge">has_many</code> type association with the <code class="highlighter-rouge">Donation</code> model, you’d have something that looks like:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>class Charity #this is our PORO
  def name
    'The Human Fund'
  end

  def donations
    Donation.all
  end
end

class Donation &lt; ActiveRecord::Base #this corresponds to a table in the DB
  validates :amount, presence: true

  def charity
    Charity.new
  end
end
</code></pre></div></div>

<p>As you can see, we’re manually defining the methods (<code class="highlighter-rouge">#donations</code> and <code class="highlighter-rouge">#charity</code>) that we’d get automatically if we used <code class="highlighter-rouge">has_many</code>. This allows us to get around the fact that a <code class="highlighter-rouge">Charity</code> object does not correspond to a table in the database, and lets other parts of our code use <code class="highlighter-rouge">Charity</code> objects as they would any other ActiveRecord object.</p>

<p>For more association type goodness on POROs, also check out the <a href="https://github.com/joker1007/activemodel-associations">activemodel-associations gem</a>.</p>

<p>So if you decide to go with a PORO, you next question is probably: <strong>Where should this file reside?</strong></p>

<p>There are a couple of common options – in the models directory with the rest of the models in /app/models, or in the /lib directory. Pat Maddox recommends the models directory, and I concur, because if you’re going to treat it like a model in other parts of your code, it’s natural that other developers (or you in the future) will look for the class in the models directory. That being said, this is just a convention, and either way works.</p>

<p>As always, let me know in the comments below if you have a question that is not covered by this article (maybe polymorphic associations?), and I’ll get back to you ASAP.</p>
